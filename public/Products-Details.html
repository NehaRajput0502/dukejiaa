<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>

  <title>Products in Demand - Duke Jia</title>
  <meta name="description" content="Sales & service for embroidery, perforation and quilting machines across India. DUKEJIA by HCA ‚Äî Delhi, Chennai, Bengaluru, Kolkata, Indore, Ludhiana, Tiruppur."/>
  <link rel="canonical" href="https://dukejiaa.vercel.app/Products-Details.html">
  <meta name="robots" content="index,follow"/>

  <!-- Open Graph / Social -->
  <meta property="og:type" content="website"/>
  <meta property="og:url" content="https://dukejiaa.vercel.app/"/>
  <meta property="og:title" content="DUKEJIA ‚Äî Industrial Embroidery, Perforation & Quilting Machines"/>
  <meta property="og:description" content="High-precision embroidery, perforation and quilting solutions with all-India sales & service."/>
  <meta property="og:image" content="https://dukejiaa.vercel.app/images/dukejia.png"/>
  <meta name="twitter:card" content="summary_large_image"/>

  <!-- Icons -->
  <link rel="icon" href="/images/dukejia.png"/>
  <link rel="apple-touch-icon" href="/images/dukejia.png"/>
  <meta name="theme-color" content="#01286B"/>

  <!-- Fonts & Icons (yours) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JV4T04TFTJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-JV4T04TFTJ');
</script>

  <style>
    :root{--pur:#045285;--pur2:#833ade;--primary:var(--pur);--accent:var(--pur2);--brand-2:#a88bff;--bg:#FAF9F6;--text:#2D3436;--muted:#5f6970;--muted2:#6f7a82;--lgray:#E8EDF2}
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
    a{color:inherit;text-decoration:none}
    .container{margin:0 auto;padding:0 40px}
    @media (max-width:1024px){.container{padding:0 24px}}
    @media (max-width:480px){.container{padding:0 16px}}

    .site-header{position:sticky;top:0;z-index:50;background:rgba(250,249,246,.85);backdrop-filter:blur(10px);border-bottom:1px solid var(--lgray)}
    .container.nav{display:flex;justify-content:space-between;align-items:center;height:72px}
    .nav-center{display:flex;gap:28px;align-items:center}
    .nav-center a{color:var(--text);font-weight:600}
    .nav-center a:hover{color:var(--accent)}
    .nav a:hover{background:rgba(2,115,191,.06)}
    .btn-quote{display:inline-flex;align-items:center;gap:8px;padding:10px 16px;border-radius:999px;font-weight:700;background:linear-gradient(90deg,var(--accent),var(--brand-2));color:#fff}
    .menu-toggle{display:none;background:none;border:none;color:var(--pur);font-size:1.5rem;cursor:pointer;padding:8px;border-radius:6px}
    @media (max-width:780px){
      .nav-center{position:fixed;top:72px;left:0;right:0;background:rgba(250,249,246,.98);backdrop-filter:blur(10px);
        flex-direction:column;padding:20px 24px;gap:0;transform:translateY(-100%);opacity:0;visibility:hidden;transition:.3s;border-bottom:1px solid var(--lgray)}
      .nav-center.open{transform:translateY(0);opacity:1;visibility:visible}
      .nav-center a{padding:16px 0;width:100%;border-bottom:1px solid #eee}
      .nav-center a:last-child{border-bottom:none}
      .menu-toggle{display:block}
      .btn-quote{width:100%;justify-content:center}
    }

    .hero{position:relative;background:var(--bg);
      background-image:radial-gradient(1100px 520px at 80% -10%, rgba(168,139,255,.18), transparent 60%),
                       radial-gradient(900px 450px at -10% 90%, rgba(4,82,133,.12), transparent 60%);
      background-attachment:fixed;padding:48px 0 18px}
    .headline{font-size:clamp(2.2rem,5vw,3.6rem);line-height:1.05;margin:0 0 .6rem;font-weight:900;color:var(--pur)}
    .headline .accent{color:transparent;background:linear-gradient(90deg,var(--primary),var(--accent));-webkit-background-clip:text;background-clip:text}
    .sub{font-size:clamp(1.05rem,1.7vw,1.2rem);line-height:1.8;color:#4a5258;max-width:100ch;margin:0}

    section{padding:24px 0 72px}

    .controls{display:flex;gap:1rem;align-items:center;flex-wrap:wrap;margin-top:18px}
    .search-box{position:relative;flex:1;min-width:260px;max-width:520px}
    .search-box input{width:100%;padding:12px 16px 12px 44px;border-radius:12px;border:1px solid var(--lgray);background:#fff;color:#2D3436;font-size:16px}
    .search-box i{position:absolute;left:16px;top:50%;transform:translateY(-50%);color:#9aa2a9}
    .chips{display:flex;gap:.6rem;flex-wrap:wrap}
    .chip{padding:10px 18px;border-radius:999px;border:1px solid var(--lgray);background:#fff;color:#6b7280;font-weight:700;cursor:pointer}
    .chip.active,.chip:hover{background:var(--primary);color:#fff;border-color:var(--primary)}
    .view{display:flex;gap:.5rem}
    .view-btn{width:40px;height:40px;border-radius:8px;border:1px solid var(--lgray);background:#fff;color:#6b7280;display:flex;align-items:center;justify-content:center;cursor:pointer}
    .view-btn.active,.view-btn:hover{background:var(--primary);color:#fff;border-color:var(--primary)}

    .videos-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:1.6rem;margin-top:1.2rem}
    .videos-grid.compact{grid-template-columns:repeat(auto-fill,minmax(280px,1fr))}
    .videos-grid.list{grid-template-columns:1fr}
    .video-card{background:#fff;border:1px solid var(--lgray);border-radius:16px;overflow:hidden;transition:all .35s cubic-bezier(.2,.8,.2,1);
      position:relative;display:flex;flex-direction:column;height:100%;box-shadow:0 8px 24px rgba(0,0,0,.06);opacity:0;transform:translateY(18px);animation:fadeInUp .5s forwards}
    @keyframes fadeInUp{to{opacity:1;transform:translateY(0)}}
    .video-card:hover{transform:translateY(-6px) scale(1.01);box-shadow:0 18px 38px rgba(4,82,133,.12);border-color:rgba(4,82,133,.25)}
    .video-card.list-layout{flex-direction:row}
    .video-thumbnail{position:relative;height:200px;background:#f3f6fb;flex-shrink:0;cursor:pointer}
    .video-card.list-layout .video-thumbnail{width:240px;height:160px}
    .video-thumbnail img{width:100%;height:100%;object-fit:cover}
    .popularity-badge{position:absolute;top:12px;right:12px;background:linear-gradient(90deg,var(--primary),var(--accent));color:#fff;padding:6px 10px;border-radius:20px;font-size:.8rem;font-weight:800}
    .video-info{padding:1rem 1.1rem 1.2rem;display:flex;flex-direction:column;gap:.5rem}
    .video-title{font-size:1.08rem;font-weight:900;line-height:1.25;cursor:pointer}
    .video-description{color:var(--muted2);font-size:.95rem;line-height:1.5}
    .video-actions{display:flex;gap:.5rem}
    .video-action-btn1{background:#fff;border:1px solid var(--lgray);border-radius:8px;width:36px;height:36px;display:grid;place-items:center;cursor:pointer;position:absolute;bottom:12px;left:12px;}
    .video-action-btn2{background:#fff;border:1px solid var(--lgray);border-radius:8px;width:36px;height:36px;display:grid;place-items:center;cursor:pointer;position:absolute;bottom:12px;right:12px;}

    /* Modal (drawer) */
    .modal{position:fixed;inset:0;background:rgba(0,0,0,.45);display:none;opacity:0;z-index:1000}
    .modal.active{display:block;opacity:1}
    .drawer{position:absolute;right:0;top:0;bottom:0;width:min(780px,100%);background:#fff;border-left:1px solid var(--lgray);
      transform:translateX(100%);transition:transform .28s ease;display:flex;flex-direction:column;height:100%;overflow:hidden;}
    .modal.active .drawer{transform:translateX(0)}
    .drawer-header{display:flex;align-items:center;justify-content:space-between;padding:14px 18px;border-bottom:1px solid var(--lgray);flex:0 0 auto;background:#fff}
    .drawer-header h3{margin:0;font-size:1.15rem;font-weight:900}
    .close-btn{background:none;border:1px solid var(--lgray);width:36px;height:36px;border-radius:8px;cursor:pointer;color:#6b7280}

    .drawer-body{display:grid;grid-template-columns:280px 1fr;gap:16px;padding:16px;overflow:auto;flex:0 0 auto;max-height:45vh;background:#fff;}
    .drawer-img{border:1px solid var(--lgray);border-radius:12px;overflow:hidden;background:#f6f8fb}
    .drawer-img img{width:100%;height:100%;object-fit:cover}
    @media (max-width:760px){.drawer-body{grid-template-columns:1fr;max-height:55vh}}
    .meta{display:grid;grid-template-columns:1fr;gap:8px}
    .muted{color:#6b7280}
    .pill{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border:1px solid var(--lgray);border-radius:999px;font-weight:700;color:#425f85;background:#f1f5fb}
    .cta-row{display:flex;gap:8px;flex-wrap:wrap;margin-top:6px}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:10px;border:1px solid var(--lgray);cursor:pointer;background:#fff}
    .btn[disabled]{opacity:.6;cursor:not-allowed}
    .btn-primary{background:linear-gradient(90deg,var(--primary),var(--accent));border:none;color:#fff}

    .tabs{display:flex;gap:8px;padding:8px 16px;border-top:1px solid var(--lgray);border-bottom:1px solid var(--lgray);background:#fff;flex:0 0 auto;position:sticky;top:0;z-index:1}
    .tab{padding:10px 14px;border-radius:10px;border:1px solid var(--lgray);background:#fff;color:#6b7280;font-weight:700;cursor:pointer}
    .tab.active{background:var(--primary);border-color:var(--primary);color:#fff}

    .tabpanes{padding:8px 16px 18px;flex:1 1 auto;min-height:0;overflow:auto;background:#fff}
    .pane{display:none}
    .pane.active{display:block}
    #pane-specs{overflow:auto}
    .spec-table{width:100%;border-collapse:collapse;table-layout:fixed}
    .spec-table td{padding:8px 10px;border-bottom:1px dashed #e5e7eb;vertical-align:top;word-break:break-word}
    .spec-left{width:42%;color:#425f85;font-weight:700}
    .feature-list{margin:8px 0 0 18px}

    /* Footer */
    .site-footer{padding:28px 24px;border-top:1px solid var(--lgray);color:#e7f1ff;background:var(--pur)}
    .footer-grid{display:grid;grid-template-columns:1.3fr 1fr 1fr;gap:40px}
    .footer-brand{margin:0 0 10px;font-size:36px;font-weight:900;background:linear-gradient(90deg,#ffffff,var(--sage));-webkit-background-clip:text;background-clip:text;color:transparent;}
    .footer-about p{margin:0 0 18px;color:#e7f1ff}
    .footer-socials{display:flex; gap:12px}
    .soc{width:40px;height:40px;display:grid;place-items:center;border-radius:12px;background:rgba(255,255,255,.1);color:#e7f1ff;border:1px solid rgba(255,255,255,.16);box-shadow:0 6px 16px rgba(0,0,0,.15)}
    .soc:hover{transform:translateY(-1px)}
    .footer-links h4,.footer-contact h4{margin:0 0 12px;color:#fff;font-size:22px}
    .footer-links ul{list-style:none;padding:0;margin:0}
    .footer-links li{margin:10px 0}
    .footer-links a{color:#e7f1ff;text-decoration:none}
    .footer-links a:hover{color:#fff}
    .frow{display:flex;align-items:flex-start;gap:12px;margin:12px 0}
    .frow .ico{color:#e7f1ff;width:28px;height:28px;display:grid;place-items:center;background:rgba(255,255,255,.1);border-radius:8px;border:1px solid rgba(255,255,255,.16)}
    .frow .muted{color:#d5e3ff}
    .foot-divider{height:1px;background:rgba(255,255,255,.18);margin:28px 0 14px}
    .foot-bottom{display:flex;align-items:center;justify-content:space-between;gap:16px;color:#d9e7ff;font-size:14px}
    .legal a{color:#d9e7ff;text-decoration:none;margin-left:16px}
    .legal a:hover{color:#fff}
    @media (max-width:980px){.footer-grid{grid-template-columns:1fr 1fr}}
    @media (max-width:640px){.footer-grid{grid-template-columns:1fr}.foot-bottom{flex-direction:column;align-items:flex-start;gap:8px}}

    /* Video overlay (YouTube) */
    .video-overlay{position:fixed;inset:0;background:rgba(0,0,0,.8);display:none;opacity:0;z-index:1100;align-items:center;justify-content:center;padding:2rem;transition:opacity .2s}
    .video-overlay.active{display:flex;opacity:1}
    .video-frame{position:relative;width:min(100%,960px);aspect-ratio:16/9;background:#000;border-radius:12px;overflow:hidden}
    .video-frame iframe{width:100%;height:100%;border:0}
    .video-close{position:absolute;top:8px;right:8px;background:#fff;border:none;border-radius:10px;width:40px;height:40px;cursor:pointer}
    .video-fallback{position:absolute;left:12px;bottom:12px;padding:10px 14px;border:1px solid #fff;border-radius:10px;background:rgba(255,255,255,.12);color:#fff;backdrop-filter:blur(2px);display:none;cursor:pointer}
    @media (max-width:640px){
      .video-overlay{padding:0}
      .video-frame{width:100vw;max-width:100vw;border-radius:0}
      .video-close{top:10px;right:10px;width:44px;height:44px}
    }
  </style>
</head>
<body>

  <!-- Header -->
  <header class="site-header">
    <div class="container nav">
      <a class="brand" href="index.html" aria-label="Duke Jia Home">
        <span><img src="images/dukejia.png" width="190" height="55" alt="DUKEJIA" loading="lazy"></span>
      </a>

      <button class="menu-toggle" aria-label="Toggle navigation"><i class="fa-solid fa-bars"></i></button>

      <nav class="nav-center" aria-label="Primary">
        <a href="index.html">Home</a>
        <a href="Products-Details.html" style="color:var(--accent);font-weight:700;">Products</a>
        <a href="Contact.html">Contact</a>
        <a class="btn-quote"
           href="https://wa.me/919350513789?text=Hi%20Duke%20Jia%20Team%2C%20I%27m%20interested%20in%20your%20machines.%20Please%20share%20pricing%20%26%20availability."
           target="_blank" rel="noopener">
          <i class="fa-solid fa-phone"></i> Get Quote</a>
      </nav>
    </div>
  </header>

  <!-- Hero -->
  <section class="hero">
    <div class="container hero-inner">
      <h1 class="headline">Products in <span class="accent">Demand</span></h1>
      <p class="sub">Search, filter by category, switch layout, and click a product to see full details.</p>

      <div class="controls">
        <div class="search-box">
          <i class="fas fa-search"></i>
          <input type="text" id="videoSearch" placeholder="Search brand, model, features..." />
        </div>

        <div class="chips">
          <button class="chip active filter-btn" data-filter="all">All</button>
          <button class="chip filter-btn" data-filter="flagship">Flagship</button>
          <button class="chip filter-btn" data-filter="embroidery">Embroidery</button>
          <button class="chip filter-btn" data-filter="perforation">Perforation</button>
          <button class="chip filter-btn" data-filter="quilting">Quilting</button>
        </div>

        <div class="view">
          <button class="view-btn active" data-view="compact" title="Compact grid"><i class="fas fa-th-large"></i></button>
          <button class="view-btn" data-view="grid" title="Grid"><i class="fas fa-th"></i></button>
          <button class="view-btn" data-view="list" title="List"><i class="fas fa-list"></i></button>
        </div>
      </div>
    </div>
  </section>

  <!-- Products in Demand -->
  <section id="products-on-demand">
    <div class="container">
      <div class="videos-grid" id="video-gallery"></div>
    </div>
  </section>

  <!-- Product Details Modal -->
  <div class="modal" id="productModal" aria-hidden="true">
    <div class="drawer" role="dialog" aria-modal="true" aria-labelledby="pdTitle">
      <div class="drawer-header">
        <h3 id="pdTitle">Product</h3>
        <button class="close-btn" id="pdClose" aria-label="Close"><i class="fa-solid fa-xmark"></i></button>
      </div>

      <div class="drawer-body">
        <div class="drawer-img"><img id="pdImg" alt="Product image" loading="lazy"></div>

        <div class="meta">
          <div><span class="pill" id="pdCat">Category</span></div>
          <div class="muted" id="pdBrandModel">Brand & Model</div>
          <div id="pdOp" class="muted"></div>
          <div id="pdDesc"></div>

          <!-- ====== CTA ROW (updated: Play replaces Like) ====== -->
          <div class="cta-row">
            <button class="btn" id="pdCopy"><i class="fa-solid fa-link"></i> Copy link</button>
            <button class="btn" id="pdPlay"><i class="fa-solid fa-play"></i> Watch Demo</button>
            <a class="btn btn-primary" id="pdWhats" target="_blank" rel="noopener">
              <i class="fa-brands fa-whatsapp"></i> Get Quote on WhatsApp
            </a>
          </div>
        </div>
      </div>

      <div class="tabs">
        <button class="tab active" data-tab="overview">Overview</button>
        <button class="tab" data-tab="specs">Specs</button>
        <button class="tab" data-tab="features">Features</button>
      </div>

      <div class="tabpanes">
        <div class="pane active" id="pane-overview">
          <p id="pdApp" class="muted"></p>
        </div>
        <div class="pane" id="pane-specs">
          <table class="spec-table" id="pdSpec"></table>
        </div>
        <div class="pane" id="pane-features">
          <ul class="feature-list" id="pdFeat"></ul>
        </div>
      </div>
    </div>
  </div>

  <!-- Video Overlay -->
  <div class="video-overlay" id="vOverlay" role="dialog" aria-modal="true" aria-label="Product video">
    <div class="video-frame">
      <button class="video-close" id="vClose" aria-label="Close video">
        <i class="fa-solid fa-xmark"></i>
      </button>
      <iframe
        id="vFrame"
        title="Product demo"
        allow="autoplay; encrypted-media; picture-in-picture; web-share"
        allowfullscreen
        referrerpolicy="strict-origin-when-cross-origin"
        loading="lazy"></iframe>
      <button class="video-fallback" id="vOpenYT">Open on YouTube</button>
    </div>
  </div>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="container footer-grid">
      <div class="footer-about">
        <h3 class="footer-brand">Duke Jia</h3>
        <p>Part of Jia Group, Duke Jia has been serving India's textile industry for over 100+ years with cutting-edge embroidery and perforation machinery. Trusted by manufacturers across India from Surat to Tirupur, Ludhiana to Kolkata.</p>
        <div class="footer-socials">
          <a href="#" aria-label="Facebook" class="soc">f</a>
          <a href="#" aria-label="Instagram" class="soc">‚óé</a>
          <a href="#" aria-label="LinkedIn" class="soc">in</a>
        </div>
      </div>

      <div class="footer-links">
        <h4>Quick Links</h4>
        <ul>
          <li><a href="About.html">About Us</a></li>
          <li><a href="Products-Details.html">Products</a></li>
          <li><a href="Contact.html">Contact Us</a></li>
        </ul>
      </div>

      <div class="footer-contact">
        <h4>Contact</h4>
        <div class="frow"><span class="ico">üìç</span><div><span class="muted">PAN-India Service Network</span></div></div>
        <div class="frow"><span class="ico">üìû</span><div>+91 9350513789</div></div>
        <div class="frow"><span class="ico">‚úâÔ∏è</span><div>embroidery@grouphca.com</div></div>
      </div>
    </div>

    <div class="container foot-divider"></div>

    <div class="container foot-bottom">
      <div>¬© <span id="year"></span> Duke Jia ‚Äì Part of Jia Group. All rights reserved.</div>
      <nav class="legal"><a href="#">Privacy Policy</a><a href="#">Terms of Service</a></nav>
    </div>
  </footer>

  <script>
    // Mobile nav
    const menuToggle=document.querySelector('.menu-toggle'); const navCenter=document.querySelector('.nav-center');
    if(menuToggle&&navCenter){
      const icon=menuToggle.querySelector('i');
      menuToggle.addEventListener('click',()=>{
        navCenter.classList.toggle('open');
        const open = navCenter.classList.contains('open');
        icon.classList.toggle('fa-xmark', open);
        icon.classList.toggle('fa-bars', !open);
      });
      document.querySelectorAll('.nav-center a').forEach(a=>a.addEventListener('click',()=>{
        navCenter.classList.remove('open');
        icon.classList.remove('fa-xmark'); icon.classList.add('fa-bars');
      }));
    }

    /* ===== INLINE PRODUCT DATA ===== */
    const PRODUCTS = [
      {"id":"dy-pe750x600","brand":"DUKE JIA","model":"DY-PE750X600","name":"Single Head Perforation and Stitching Machine","category":"flagship","thumbnail":"images/dy-pe750X600.png","popularity":"flag","media":{"youtubeId":"2Nod9pUuz24"},"operation":"Perforation and Stitching","description":"High-performance single-head perforation and stitching machine for precise material punching and seam stitching in industrial textile and leather manufacturing.","spec":{"Working Width (mm)":750,"Working Length (mm)":600,"Stitch Type":"Lockstitch with perforation capability","Max Speed (rpm)":1200,"Needle Type":"DPx5 #14‚Äì18","Power Supply":"AC 380V 50/60Hz","Air Pressure (MPa)":0.5,"Total Power (kW)":5,"Machine Dimensions (mm)":"2000√ó1500√ó1800","Machine Weight (kg)":850},"features":["Integrated perforation and stitching for enhanced productivity.","Precision servo-driven control system for accurate positioning.","Heavy-duty frame for stable operation and reduced vibration.","User-friendly interface with adjustable perforation depth and stitch speed."],"application":"Industrial production of leather goods, automotive upholstery, footwear, and decorative textile components.","tags":["perforation","single head","leather","stitching"]},

      {"id":"dy-sk-d2-2orh","brand":"DUKE JIA","model":"DY-SK-D2-2.0RH","name":"Full Automatic Leather Punching Machine","category":"perforation","thumbnail":"images/dy-sk-d2-2orh.png","popularity":"high","media":{"youtubeId":"2Nod9pUuz24"},"operation":"Leather Punching","description":"High-speed multi-axis CNC leather punching machine equipped with servo-driven control, precision punching, and programmable pattern rotation.","spec":{"Working Speed (rpm)":1300,"Max Storage Capacity (MB)":256,"Power (kW)":"2‚Äì3","Power Supply":"220V Single-phase","Air Pressure (MPa)":0.6,"Punching Tool No.":"Round hole (0.8/1.0/1.2/1.5/2.0/2.5mm)","Number of Tool Heads":"12 (6 in each group)","Working Area (mm)":"900√ó600","Machine Size (mm)":"3565√ó1480√ó1380","Net Weight (kg)":1200},"features":["Unique multi-axis CNC supports six punch specs simultaneously.","Each punch rotates 360¬∞ to create complex patterns from CAD/CorelDRAW.","Servo motor-driven main axis & drive system for stability.","X/Y screw direct drive for high punching precision.","Industrial dust collector for effective dust removal.","Customizable machine & OS per requirements.","Rotatable punch heads enable decorative patterned punching."],"application":"Precision leather processing for footwear, automotive interiors, and decorative leather industries.","tags":["punching","CNC","leather","servo"]},

      {"id":"dy-1202h","brand":"DUKE JIA","model":"DY-1202H","name":"2 Heads Single-Structure Embroidery","category":"embroidery","thumbnail":"images/dy-1202h.png","popularity":"high","media":{"youtubeId":"2Nod9pUuz24"},"operation":"Embroidery","description":"Compact, stable structure with 2 heads for efficient, high-quality embroidery.","spec":{"Needle Count":12,"Head Count":2,"Embroidery Area (mm)":"400√ó450","Machine Dimensions (cm)":"155√ó113√ó150","Net/Gross Weight (kg)":"620 / 700","Max Speed (rpm)":1200,"Memory":"2,000,000 (200 designs)","Cap Frame":"270¬∞ wide","Display":"LCD real-time","Auto Features":"Auto trim, auto color, auto start/stop","Thread Winding":"Auto external winding","Languages":"12+","Power Input":"AC80‚Äì260V","Power Output":"DC36","Max Power (W)":150,"Compatible Devices":"Cording, Sequins, Beads, Rhinestone"},"features":["Stable and compact structure.","Dual-head embroidery for increased productivity.","Energy-efficient with wide voltage range."],"application":"Commercial embroidery requiring compact size and high precision.","tags":["2 heads","stable","industrial","compact"]},

      {"id":"dy-1201h","brand":"DUKE JIA","model":"DY-1201H","name":"12 Needles 1 Head Special Structure","category":"embroidery","thumbnail":"images/dy-1201h.png","popularity":"high","media":{"youtubeId":"2Nod9pUuz24"},"operation":"Embroidery","description":"New stable structure, ideal for flat, cap, and finished garments with enhanced automation.","spec":{"Needle Count":12,"Head Count":1,"Max Speed (rpm)":1200,"Embroidery Area (mm)":"500√ó400","Machine Dimensions (cm)":"95√ó113.5√ó160","Net/Gross Weight (kg)":"180 / 210","Memory":"2,000,000 (200 designs)","Cap Frame":"270¬∞ wide","Power Supply":"AC80‚Äì260V","Power Output":"DC36","Max Power (W)":150,"Display":"LCD real-time","Color Change Cycles":200,"Auto Features":"Auto trim & color change","Thread Winding":"Auto external winding","Languages":"CN/EN/FR/RU/NL/ES/PT/TR/DE/AR/TH/VI","Compatible Devices":"Cording, Sequins, Beads, Rhinestone"},"features":["Improved stability & durability.","Flat/cap/finished embroidery.","Auto trimming & color change.","Wide voltage and safe DC output."],"application":"Caps, garments, home textiles for pro embroidery.","tags":["single head","stable structure","cap"]},

      {"id":"dy-1204","brand":"DUKE JIA","model":"DY-1204","name":"4 Heads Tubular Embroidery Machine","category":"embroidery","thumbnail":"images/dy-1204.png","popularity":"high","media":{"youtubeId":"2Nod9pUuz24"},"operation":"Embroidery","description":"12-needle, 4-head tubular embroidery for mid-scale production.","spec":{"Needle Count":12,"Head Count":4,"Embroidery Area (mm)":"400√ó450","Machine Dimensions (cm)":"264√ó90√ó140","Net Weight (kg)":550,"Max Speed (rpm)":1200,"Frame Type":"Tubular","Display":"LCD real-time","Auto Features":"Auto trim & color change","Power Input":"AC80‚Äì260V","Power Output":"DC36","Compatible Devices":"Cording, Sequins, Beads, Rhinestone"},"features":["4-head configuration for throughput.","Automatic trimming & color change.","Energy efficient with wide voltage."],"application":"Workshops needing multi-head efficiency.","tags":["4 heads","tubular","throughput"]},

      {"id":"dy-1203h","brand":"DUKE JIA","model":"DY-1203H","name":"3 Heads Single-Structure Embroidery","category":"embroidery","thumbnail":"images/dy-1203h.png","popularity":"high","media":{"youtubeId":"2Nod9pUuz24"},"operation":"Embroidery","description":"New, more stable structure. 3 heads with auto trimming & color change.","spec":{"Needle Count":12,"Head Count":3,"Embroidery Area (mm)":"400√ó400√ó450","Machine Dimensions (cm)":"175√ó113√ó150","Net/Gross Weight (kg)":"680 / 760","Max Speed (rpm)":1200,"Memory":"2,000,000 (200 designs)","Cap Frame":"270¬∞ wide","Display":"LCD real-time","Auto Features":"Auto trim, auto color, auto start/stop","Thread Winding":"Auto external winding","Languages":"12+","Power Input":"AC80‚Äì260V","Power Output":"DC36","Max Power (W)":150,"Compatible Devices":"Cording, Sequins, Beads, Rhinestone"},"features":["Stable, durable structure.","3-head productivity.","Low power and wide voltage."],"application":"Commercial embroidery for precision and stability.","tags":["3 heads","stable","industrial"]},

      {"id":"DY918","brand":"DUKE JIA","model":"DY918","name":"Multi-Head Automatic High-Speed Embroidery (18 Heads)","category":"embroidery","thumbnail":"images/dy-918.png","popularity":"high","media":{"youtubeId":"2Nod9pUuz24"},"operation":"Embroidery","description":"18-head high-speed with A18 computer, all-servo, digital color change, thread manage & cleaning systems.","spec":{"Needle Count":9,"Head Count":18,"Embroidery Area (mm)":"400√ó800","Machine Dimensions (mm)":"9200√ó2860√ó1200","Max Speed (rpm)":1500,"Computer System":"A18","Motor Type":"All Servo","Thread Management":"Trimming & hold","Lubrication":"Auto oil mist","Cleaning":"Auto dust clean","Color Change":"LCD digital","Cam Type":"Double cam head","Frame":"Aluminium dividers; single-piece beam","Additional":"Boring device"},"features":["1500 RPM high-speed.","Servo precision & stability.","Automatic lubrication & dust cleaning."],"application":"Large-scale embroidery manufacturing.","tags":["18 heads","all-servo","high speed"]},

      {"id":"DY-SK-D2-10Z","brand":"DUKE JIA","model":"DY-SK-D2-10Z","name":"Two-set Ten-axis High-speed Intelligent Leather Punching Machine","category":"perforation","thumbnail": "images/dy-sk-d2-10z.png","popularity": "none","media": { "youtubeId": "2Nod9pUuz24" },"operation": "Perforation","description": "Dual ten-axis CNC leather punching with direct AutoCAD/CorelDRAW import, automatic feeding and dust collection for clean, precise, high-speed punching.","spec": {"Punching Speed (punch/min)": "(500‚Äì900) √ó2","Punch Axis Quantity (PCS)": "5√ó2","Rotating Axis Quantity (PCS)": "3√ó2","Punching Range (mm)": "(600√ó900) √ó2","Diameter of Hole (mm)": "0.6‚Äì13","Thickness of Material (mm)": "1‚Äì6","Power": "220V / 3.0kW or 380V / 3.0kW","Supply Frequency (Hz)": "50/60","Pressure Air (bar)": "5‚Äì6","Weight (T)": "‚âà1.5","Machine Dimensions (mm)": "2050√ó2000√ó1550"},"features": ["High speed up to ~1100 punches/min.","Draw directly from AutoCAD & CorelDRAW‚Äîno mold design required.","Easy plate change, automatic material feeding, precise punching.","Lower power cost with higher throughput.","Clean edges with no burning, damage, or odor.","Integrated automatic dust collection keeps the workspace clean." ],"application": "Leather goods, footwear, belts, upholstery, automotive interiors, fashion accessories and decorative perforation work.","tags": ["ten-axis", "dual set", "CNC", "AutoCAD/CorelDRAW", "dust collection", "leather punching"]},
 
      {"id":"dy-cs3000","brand":"DUKE JIA","model":"DY-CS3000","name":"Computerized Chain Stitch Non-Shuttle Multi-Needle Quilting Machine","category":"quilting","thumbnail":"images/dy-cs3000.png","popularity":"medium","media":{"youtubeId":"2Nod9pUuz24"},"operation":"Quilting","description":"Advanced computerized multi-needle quilting machine with servo-driven control, infrared detection, and high-precision stitching for mattress and textile production.","spec":{"Quilting Width (mm)":2450,"Max Sewing Thickness (mm)":60,"Quilting Speed (rpm)":"500‚Äì1000","Space Between Needle Rows (inch)":"5\" (50.8, 76.2, 127), 6\" (76.2, 76.2, 152.4)","Space Between Needles (mm)":"12.7 / 25.4","X-axis Displacement (mm)":308.4,"Stitch Length (mm)":"3‚Äì8","Speed of Operation (m/h)":"60‚Äì230","Voltage":"AC 380V 50/60Hz","Total Power (kW)":8,"Machine Dimension (mm)":"5400√ó1650√ó2050","Machine Weight (kg)":4500},"features":["Advanced computerized control system ensures precision production.","Double rocker mechanism without CAM prevents fabric staining.","Infrared detection automatically stops the machine on thread break.","Servo-driven spindle, needle, saddle, and roller for high-performance control.","Supports 360¬∞ quilting freedom with independent step motion.","CAD-based pattern editing with high drawing accuracy.","Automatic zero-return after completion of quilting sets.","Infrared safety sensors enhance operational safety.","Auto-track pattern system with real-time running status detection."],"application":"Widely used for quilting high-quality mattresses, quilt covers, and household ornaments.","tags":["quilting","multi-needle","computerized","chain stitch"]},

      {"id":"dy-pe750x600","brand":"DUKE JIA","model":"DY-PE750X600","name":"Single Head Perforation and Stitching Machine","category":"perforation","thumbnail":"images/dy-pe750X600.png","popularity":"medium","media":{"youtubeId":"2Nod9pUuz24"},"operation":"Perforation and Stitching","description":"High-performance single-head perforation and stitching machine for precise material punching and seam stitching in industrial textile and leather manufacturing.","spec":{"Working Width (mm)":750,"Working Length (mm)":600,"Stitch Type":"Lockstitch with perforation capability","Max Speed (rpm)":1200,"Needle Type":"DPx5 #14‚Äì18","Power Supply":"AC 380V 50/60Hz","Air Pressure (MPa)":0.5,"Total Power (kW)":5,"Machine Dimensions (mm)":"2000√ó1500√ó1800","Machine Weight (kg)":850},"features":["Integrated perforation and stitching for enhanced productivity.","Precision servo-driven control system for accurate positioning.","Heavy-duty frame for stable operation and reduced vibration.","User-friendly interface with adjustable perforation depth and stitch speed."],"application":"Industrial production of leather goods, automotive upholstery, footwear, and decorative textile components.","tags":["perforation","single head","leather","stitching"]},

      {"id":"es-1300","brand":"DUKE JIA","model":"ES-1300","name":"Embroidery Sewing Machine","category":"embroidery","thumbnail":"images/es-1300.png","popularity":"medium","media":{"youtubeId":"2Nod9pUuz24"},"operation":"Embroidery and Sewing","description":"Embroidery sewing machine with auto threading, LCD control, and a wide range of seam/embroidery functions.","spec":{"Function":"67 seam patterns + embroidery","Speed (rpm)":"650 (sewing), 650 (embroidery)","Auto Threading":"Yes","LCD Screen":"Touch-screen","Max Sewing Range (mm)":7,"Optional Presser Foot":"Decorative seams","Memory Capacity (stitches)":2000000,"Max Embroidery Area (mm)":"110√ó110","Max Needles/min":650,"Pattern Rotation (¬∞)":90,"Pattern Resize":"50%, 100%, 200%","Body Size (mm)":"390√ó220√ó300","Packing Size (mm)":"510√ó375√ó370","Net/Gross Weight (kg)":"9 / 10","Supported OS":"Win98/2000/XP","Embroidery Format":"TAJIMA compatible","Power Supply":"Single-phase AC"},"features":["67 seam patterns + embroidery.","Auto-threading and trimming.","Touch LCD for easy operation.","Pattern resize & rotation.","USB interface; TAJIMA formats."],"application":"Decorative embroidery & sewing for garments and home textiles.","tags":["sewing+embroidery","LCD","auto threading"]},

      {"id":"halo-100","brand":"DUKE JIA","model":"HALO-100","name":"Single Head Embroidery Machine","category":"embroidery","thumbnail":"images/halo-100.png","popularity":"medium","media":{"youtubeId":"2Nod9pUuz24"},"operation":"Embroidery","description":"Compact single-head for caps and finished garments with auto color change, trimming, and lubrication.","spec":{"Embroidery Area (mm)":"240√ó320","Needle Count":12,"Head Count":1,"Max Speed (rpm)":1000,"Power Supply":"80‚Äì260V","Auto Functions":"Color change, trimming, lubrication","Memory Capacity (stitches)":"10,000,000 (100,000 per pattern)","Hoops Included":["Rectangular 32√ó24 cm","Square 24√ó24 cm","Round 12 cm","Round 15 cm","Round 20 cm"],"Cap Device":"270¬∞ cap station + rings + driver","Languages":"CN/EN/TR/ES/PT/AR/NL/DE/VI/PL/TH/KO/RO/IT/FR/RU","Weights (kg)":"Machine box 35/55; Stand 35/48; Cap device 7.5/8","Sizes (cm)":"Machine 75.5√ó56.5√ó74.5; Stand 79√ó22√ó79; Cap 50√ó32√ó27"},"features":["Auto color change & trimming.","Multiple hoop sizes included.","Stores up to 10M stitches.","Durable stand with wheels.","Optional sock/shoe/pocket/magnet frames."],"application":"Home, mini studios, small workshops for caps, T-shirts, bags.","tags":["single head","cap embroidery","auto trim"]},

      {"id":"dy-908","brand":"DUKE JIA","model":"DY-908","name":"9 Needles 8 Heads Tubular Embroidery Machine","category":"embroidery","thumbnail":"images/dy-908.png","popularity":"medium","media":{"youtubeId":"2Nod9pUuz24"},"operation":"Embroidery","description":"9-needle, 8-head tubular embroidery for multi-color garments and textiles.","spec":{"Needle Count":9,"Head Count":8,"Net Weight (kg)":1200,"Embroidery Area (mm)":"400√ó450","Machine Dimensions (cm)":"424√ó110√ó140","Structure":"Tubular multi-head","Power Supply":"AC 380V 50/60Hz","Automation":"Auto color change, trimming, thread break detection"},"features":["Multi-color production in one pass.","Stable vibration-free frame.","Pattern editing & memory storage."],"application":"Apparel, customization, home textiles.","tags":["tubular","8 heads","multi-color"]},

      {"id":"dy-912","brand":"DUKE JIA","model":"DY-912","name":"9 Needles 12 Heads Tubular Embroidery Machine","category":"embroidery","thumbnail":"images/dy-912.png","popularity":"medium","media":{"youtubeId":"2Nod9pUuz24"},"operation":"Embroidery","description":"Industrial 9-needle, 12-head tubular embroidery for large-scale production.","spec":{"Needle Count":9,"Head Count":12,"Net Weight (kg)":1800,"Embroidery Area (mm)":"400√ó450","Machine Dimensions (cm)":"584√ó110√ó140","Structure":"Multi-head tubular","Power Supply":"AC 380V 50/60Hz","Automation":"Auto trimming, color change, fault detection"},"features":["Mass production with consistent stitch quality.","Pattern memory and advanced control.","Robust, smooth operation."],"application":"Factories & workshops for uniforms and apparel at scale.","tags":["tubular","12 heads","industrial"]},

      {"id":"dy-1201l","brand":"DUKE JIA","model":"DY-1201L","name":"Single Head Embroidery Machine","category":"embroidery","thumbnail":"images/dy-1201l.png","popularity":"none","media":{"youtubeId":"2Nod9pUuz24"},"operation":"Embroidery","description":"Versatile single-head embroidery for flat, cap, and finished garments.","spec":{"Needle Count":12,"Head Count":1,"Max Speed (rpm)":1200,"Embroidery Area (mm)":["400√ó600","500√ó800"],"Machine Dimensions (cm)":["127√ó110√ó87","146√ó113√ó87"],"Net Weight (kg)":[190,245],"Gross Weight (kg)":[207,265],"Memory Capacity (stitches)":"2,000,000 (200 designs)","Cap Frame":"270¬∞ wide cap frame","Power Supply":"AC80‚Äì260V","Power Output":"DC36 safe","Max Power (W)":150,"Display":"LCD real-time stitching","Color Change Cycles":200,"Auto Features":"Auto thread trim, auto color change","Thread Winding":"Automatic external winding","Languages":"CN/EN/FR/RU/NL/ES/PT/TR/DE/AR/TH/VI"},"features":["Flat, cap, and finished garment embroidery.","Auto thread trimming and color change.","270¬∞ wide cap frame."],"application":"Garments, caps, and home textiles.","tags":["single head","embroidery","cap","flat"]},

      {"id":"dy-1201-compact","brand":"DUKE JIA","model":"DY-1201","name":"Compact Computerized Embroidery Machine","category":"embroidery","thumbnail":"images/dy-1201-comp.png","popularity":"none","media":{"youtubeId":"2Nod9pUuz24"},"operation":"Embroidery","description":"Compact, high-speed machine for caps, T-shirts, and finished garments with a touchscreen interface.","spec":{"Embroidery Area (mm)":"240√ó320","Needle Count":12,"Color Count":12,"Head Count":1,"Max Speed (rpm)":1200,"Power Supply":"80‚Äì260V","Machine Weight (kg)":"34√ó41 (N.W/G.W)","Touch Screen":"7-inch","Languages":"Multi-language"},"features":["Compact design for home/studios.","Touchscreen control.","Auto trimming & self-lubrication."],"application":"Home use, small studios, customization for caps, shirts, accessories.","tags":["compact","touchscreen","home use"]},

      {"id":"dy-601ctm","brand":"DUKE JIA","model":"DY-601CTM","name":"Single Head Chenille & Chainstitch Machine","category":"embroidery","thumbnail":"images/dy-601ctm.png","popularity":"none","media":{"youtubeId":"2Nod9pUuz24"},"operation":"Chenille and Chainstitch Embroidery","description":"High-precision chenille & chainstitch with Dahao C29 control and 6-color chenille coiling.","spec":{"Embroidery Area (mm)":"500√ó800","Computer System":"Dahao C29 (10\" LCD)","Color Support":"6-color chenille device with C19","Working Speed (rpm)":750,"Memory Capacity (stitches)":2000000},"features":["Six-color chenille coiling.","Auto color change & thread trimming."],"application":"Chenille/chainstitch on fashion & decor.","tags":["chenille","chainstitch","single head"]},

      {"id":"dy606plus6","brand":"DUKE JIA","model":"DY606+6","name":"Multi-Head Mixed Embroidery Machine","category":"embroidery","thumbnail":"images/dy606plus6.png","popularity":"none","media":{"youtubeId":"2Nod9pUuz24"},"operation":"Flat, Double Sequins, Chenille & Chainstitch","description":"Mixed embroidery machine combining multiple techniques.","spec":{"Head Count":6,"Power Supply":"AC 380V 50/60Hz"},"features":["Multiple techniques in one.","Auto trimming & color change."],"application":"Garments, home textiles.","tags":["multi-head","sequins","chenille"]},

      {"id":"dy602plus2","brand":"DUKE JIA","model":"DY602+2","name":"Two-Head Mixed Embroidery Machine","category":"embroidery","thumbnail":"images/dy602plus2.png","popularity":"none","media":{"youtubeId":"2Nod9pUuz24"},"operation":"Flat, Double Sequins, Beads, Coiling & Taping","description":"Versatile two-head for sequins, beads, coiling, and taping."},

      {"id":"dy-1201-single","brand":"DUKE JIA","model":"DY-1201","name":"Single Head Embroidery Machine","category":"embroidery","thumbnail":"images/dy-1201.png","popularity":"none","media":{"youtubeId":"2Nod9pUuz24"},"operation":"Embroidery","description":"Versatile single head for flat, cap, and finished garments."},

      {"id":"dy-1201-plus1ct","brand":"DUKE JIA","model":"DY-1201+1CT","name":"12 Needles 1 Head Flat + Chenille & Chainstitch","category":"embroidery","thumbnail":"images/dy-1201-plus1ct.png","popularity":"none","media":{"youtubeId":"2Nod9pUuz24"},"operation":"Flat, Chenille and Chainstitch","description":"1+1 series with large area and intelligent automation."},

      {"id":"dy-1201-plus1pd","brand":"DUKE JIA","model":"DY-1201+1PD","name":"12 Needles 1 Head Flat + Coiling","category":"embroidery","thumbnail":"images/dy-1201-plus1pd.png","popularity":"none","media":{"youtubeId":"2Nod9pUuz24"},"operation":"Flat and Coiling","description":"Single-head integrating flat + coiling."},

      {"id":"duke-single-head-1201s","brand":"DUKE JIA","model":"DY-1201S","name":"Single Head Embroidery (Touch Control)","category":"embroidery","thumbnail":"images/dy-1201s.png","popularity":"none","media":{"youtubeId":"2Nod9pUuz24"},"operation":"Embroidery","description":"Full-color touchscreen, network design input, large storage."},

      {"id":"dy-1201xl","brand":"DUKE JIA","model":"DY-1201XL","name":"Single Head Embroidery (XL Area)","category":"embroidery","thumbnail":"images/dy-1201xl.png","popularity":"none","media":{"youtubeId":"2Nod9pUuz24"},"operation":"Embroidery","description":"High-speed single head with 500√ó1200mm area."},

      {"id":"dy-1206","brand":"DUKE JIA","model":"DY-1206","name":"6 Heads Tubular Embroidery Machine","category":"embroidery","thumbnail":"images/dy-1206.png","popularity":"none","media":{"youtubeId":"2Nod9pUuz24"},"operation":"Embroidery","description":"12-needle, 6-head tubular embroidery."},

      {"id":"dy-1206h","brand":"DUKE JIA","model":"DY-1206H","name":"High-Speed Tubular Embroidery (6 Heads)","category":"embroidery","thumbnail":"images/dy-1206h.png","popularity":"none","media":{"youtubeId":"2Nod9pUuz24"},"operation":"Embroidery","description":"Auto frame switching, power failure recovery, safety system."},

      {"id":"dy-1502","brand":"DUKE JIA","model":"DY-1502","name":"Multi-Head Tubular Embroidery (2 Heads)","category":"embroidery","thumbnail":"images/dy-1502.png","popularity":"none","media":{"youtubeId":"2Nod9pUuz24"},"operation":"Embroidery","description":"Compact 2-head tubular with auto frame switching."},

      {"id":"dy915","brand":"DUKE JIA","model":"DY915","name":"Multi-Head High-Speed Embroidery (15 Heads)","category":"embroidery","thumbnail":"images/dy-915.png","popularity":"none","media":{"youtubeId":"2Nod9pUuz24"},"operation":"Embroidery","description":"High-speed 15-head with A18 computer, all-servo."}
    ];
    /* ===== /DATA ===== */

    const gallery=document.getElementById('video-gallery');
    const searchInput=document.getElementById('videoSearch');
    const filterBtns=document.querySelectorAll('.filter-btn');
    const viewBtns=document.querySelectorAll('.view-btn');

    let currentFilter='all', currentSearch='', currentView='compact';

    function renderProducts(){
      let list=PRODUCTS.slice();
      if(currentFilter!=='all') list=list.filter(p=>(p.category||'').toLowerCase()===currentFilter);
      if(currentSearch){
        const q=currentSearch.toLowerCase();
        list=list.filter(p=>(p.brand||'').toLowerCase().includes(q)||(p.model||'').toLowerCase().includes(q)||(p.name||'').toLowerCase().includes(q)||(p.operation||'').toLowerCase().includes(q)||(p.description||'').toLowerCase().includes(q)||((p.tags||[]).join(' ').toLowerCase().includes(q)));
      }
      list.sort((a,b)=>(b.views||0)-(a.views||0));

      gallery.classList.remove('compact','list');
      if(currentView!=='grid') gallery.classList.add(currentView);

      if(!list.length){
        gallery.innerHTML=`<div style="text-align:center;color:#6b7280;padding:3rem 1rem"><i class="fas fa-box-open" style="font-size:3rem;opacity:.6"></i><h3>No products found</h3></div>`;
        return;
      }

      const maxViews=Math.max(...PRODUCTS.map(p=>p.views||0),1);
      gallery.innerHTML='';
      list.forEach((p,i)=>{
        const badge=p.popularity==='flag'
          ?'<div class="popularity-badge"><i class="fas fa-fire"></i>Flagship</div>'
          :p.popularity==='high'
          ?'<div class="popularity-badge"><i class="fas fa-fire"></i> Popular</div>'
          :p.popularity==='medium'
          ?'<div class="popularity-badge"><i class="fas fa-star"></i> Trending</div>':'';
        const card=document.createElement('div');
        card.className=`video-card ${currentView==='list'?'list-layout':''}`;
        if(currentView==='grid'){const factor=0.92+((p.views||0)/maxViews)*0.2;card.style.transform=`scale(${factor})`;}
        card.style.animationDelay=`${i*0.05}s`;
        card.innerHTML=`
          <div class="video-thumbnail" data-id="${p.id}">
            <img src="${p.thumbnail||'images/placeholder.png'}" alt="${p.name}" loading="lazy">
            ${badge}
          </div>
          <div class="video-info">
            <h3 class="video-title" data-id="${p.id}">${p.name}</h3>
            <p class="video-description"><strong>${p.brand||''} ${p.model||''}</strong> ‚Ä¢ ${p.operation||''}<br>${p.description||''}</p>
            <div class="video-actions">
              <button class="video-action-btn1 open-media" data-id="${p.id}" title="Play video"><i class="fa-solid fa-play"></i></button>
              <button class="video-action-btn2 open-details" data-id="${p.id}" title="Details"><i class="fa-solid fa-circle-info"></i></button>
            </div>
          </div>`;
        gallery.appendChild(card);
        card.querySelector('.video-thumbnail').addEventListener('click',()=>openDetails(p.id));
        card.querySelector('.video-title').addEventListener('click',()=>openDetails(p.id));
        card.querySelector('.open-details').addEventListener('click',()=>openDetails(p.id));
      });
    }

    searchInput.addEventListener('input',e=>{currentSearch=e.target.value.trim();renderProducts();});
    filterBtns.forEach(btn=>btn.addEventListener('click',()=>{filterBtns.forEach(b=>b.classList.remove('active'));btn.classList.add('active');currentFilter=btn.dataset.filter;renderProducts();}));
    viewBtns.forEach(btn=>btn.addEventListener('click',()=>{currentView=btn.dataset.view;viewBtns.forEach(b=>b.classList.toggle('active',b.dataset.view===currentView));renderProducts();}));

    // Modal + Tabs
    const m=document.getElementById('productModal');
    const mClose=document.getElementById('pdClose');

    const pdTitle=document.getElementById('pdTitle');
    const pdImg=document.getElementById('pdImg');
    const pdCat=document.getElementById('pdCat');
    const pdBrand=document.getElementById('pdBrandModel');
    const pdOp=document.getElementById('pdOp');
    const pdDesc=document.getElementById('pdDesc');
    const pdCopy=document.getElementById('pdCopy');
    const pdWhats=document.getElementById('pdWhats');
    const pdPlay=document.getElementById('pdPlay');

    const tabButtons=[...document.querySelectorAll('.tab')];
    const panes={ overview: document.getElementById('pane-overview'),
                  specs: document.getElementById('pane-specs'),
                  features: document.getElementById('pane-features') };
    const pdSpecTbl=document.getElementById('pdSpec');
    const pdFeatList=document.getElementById('pdFeat');
    const pdApp=document.getElementById('pdApp');

    let currentProduct=null;

    function setTabAvailability(p){
      const hasSpecs = p.spec && Object.keys(p.spec).length>0;
      const hasFeats = Array.isArray(p.features) && p.features.length>0;
      tabButtons.forEach(b=>{
        if(b.dataset.tab==='specs')   b.style.display = hasSpecs ? 'inline-flex' : 'none';
        if(b.dataset.tab==='features')b.style.display = hasFeats ? 'inline-flex' : 'none';
        if(b.dataset.tab==='overview')b.style.display = 'inline-flex';
      });
    }

    function activateTab(name){
      tabButtons.forEach(b=>b.classList.toggle('active', b.dataset.tab===name));
      Object.entries(panes).forEach(([k,el])=>el.classList.toggle('active', k===name));
    }
    tabButtons.forEach(b=>b.addEventListener('click', ()=>activateTab(b.dataset.tab)));

    function openDetails(id){
      const p=PRODUCTS.find(x=>x.id===id); if(!p) return;
      currentProduct=p;

      // Fill basics
      pdTitle.textContent=p.name;
      pdImg.src=p.thumbnail||'images/placeholder.png';
      pdImg.alt=p.name;
      pdCat.textContent=(p.category||'').replace(/^\w/,c=>c.toUpperCase());
      pdBrand.textContent=`${p.brand||''} ${p.model||''}`;
      pdOp.textContent=p.operation||'';
      pdDesc.textContent=p.description||'';
      pdApp.textContent=p.application?`Application: ${p.application}`:'';

      // Specs
      pdSpecTbl.innerHTML='';
      if(p.spec){
        Object.entries(p.spec).forEach(([k,v])=>{
          const tr=document.createElement('tr');
          tr.innerHTML=`<td class="spec-left">${k}</td><td>${Array.isArray(v)?v.join(', '):v}</td>`;
          pdSpecTbl.appendChild(tr);
        });
      }

      // Features
      pdFeatList.innerHTML='';
      (p.features||[]).forEach(f=>{
        const li=document.createElement('li'); li.textContent=f; pdFeatList.appendChild(li);
      });

      // WhatsApp link
      const wtxt=encodeURIComponent(`Hi Duke Jia Team, I'm interested in ${p.brand||''} ${p.model||''} ‚Äì ${p.name}. Please share pricing & availability.`);
      pdWhats.href=`https://wa.me/919350513789?text=${wtxt}`;

      // Enable/disable Play based on media presence
      const hasVid = !!(p.media && (p.media.youtubeId || p.media.youtubeUrl));
      pdPlay.disabled = !hasVid;
      pdPlay.innerHTML = hasVid ? '<i class="fa-solid fa-play"></i> Watch Demo'
                                : '<i class="fa-solid fa-ban"></i> No video';

      // Tabs and show
      setTabAvailability(p);
      activateTab('overview');
      m.classList.add('active'); document.body.style.overflow='hidden';
      history.replaceState(null,'',`?product=${encodeURIComponent(id)}`);
    }

    function closeDetails(){
      m.classList.remove('active');
      document.body.style.overflow='auto';
      currentProduct=null;
      const url=new URL(location.href); url.searchParams.delete('product'); history.replaceState(null,'',url);
    }
    m.addEventListener('click',e=>{if(e.target===m) closeDetails();});
    mClose.addEventListener('click',closeDetails);
    document.addEventListener('keydown',e=>{if(e.key==='Escape') closeDetails();});

    // Copy link
    pdCopy.addEventListener('click',()=>{
      if(!currentProduct) return;
      const url=`${location.origin}${location.pathname}?product=${encodeURIComponent(currentProduct.id)}`;
      if (navigator.clipboard && location.protocol.startsWith('http')) {
        navigator.clipboard.writeText(url).then(()=>{
          pdCopy.innerHTML='<i class="fa-solid fa-check"></i> Copied';
          setTimeout(()=>pdCopy.innerHTML='<i class="fa-solid fa-link"></i> Copy link',1200);
        });
      } else {
        const ta=document.createElement('textarea'); ta.value=url; document.body.appendChild(ta); ta.select();
        try{ document.execCommand('copy'); }catch(e){ prompt('Copy link:', url); }
        ta.remove();
      }
    });

    /* ===== YouTube helpers ===== */
    function extractYouTubeId(input){
      if(!input) return null;
      if(/^[a-zA-Z0-9_-]{11}$/.test(input)) return input;
      try{
        const u=new URL(input, location.href);
        const host=u.hostname.replace(/^www\./,'');
        if(host.endsWith('youtube.com') && u.searchParams.get('v')) return u.searchParams.get('v');
        if(host==='youtu.be') return u.pathname.split('/').filter(Boolean)[0]||null;
        if(host.endsWith('youtube.com') && u.pathname.startsWith('/shorts/')) return u.pathname.split('/').filter(Boolean)[1]||null;
      }catch(e){}
      return null;
    }
    function buildEmbedUrl(id){
      const base=`https://www.youtube-nocookie.com/embed/${id}?autoplay=1&mute=1&playsinline=1&rel=0&modestbranding=1`;
      return location.protocol.startsWith('http') ? `${base}&origin=${encodeURIComponent(location.origin)}` : base;
    }

    /* ===== Video overlay wiring ===== */
    const vOverlay=document.getElementById('vOverlay');
    const vFrame  =document.getElementById('vFrame');
    const vClose  =document.getElementById('vClose');
    const vOpenYT =document.getElementById('vOpenYT');
    let vWatchdog=null, lastVideoUrl=null;

    function openVideoForProduct(p){
      const id = extractYouTubeId(p?.media?.youtubeUrl) || extractYouTubeId(p?.media?.youtubeId);
      if(!id){
        const url = p?.media?.youtubeUrl || (p?.media?.youtubeId ? `https://youtu.be/${p.media.youtubeId}` : null);
        if(url) window.open(url,'_blank','noopener'); else alert('No video configured for this product.');
        return;
      }
      lastVideoUrl = `https://youtu.be/${id}`;
      if(vOpenYT){
        vOpenYT.style.display='none';
        vOpenYT.onclick=()=>window.open(lastVideoUrl,'_blank','noopener');
      }
      vOverlay.classList.add('active');
      clearTimeout(vWatchdog);
      vWatchdog=setTimeout(()=>{ if(vOpenYT) vOpenYT.style.display='inline-flex'; }, 3500);
      vFrame.onload=()=>{};
      vFrame.src = buildEmbedUrl(id);
    }
    function closeVideo(){
      vOverlay.classList.remove('active');
      vFrame.removeAttribute('src');
      vFrame.onload=null;
      clearTimeout(vWatchdog);
      if(vOpenYT) vOpenYT.style.display='none';
    }
    vClose.addEventListener('click', closeVideo);
    vOverlay.addEventListener('click', (e)=>{ if(e.target===vOverlay) closeVideo(); });
    document.addEventListener('keydown', (e)=>{ if(e.key==='Escape' && vOverlay.classList.contains('active')) closeVideo(); });

    // Hook the cards' play button
    gallery.addEventListener('click', (e)=>{
      const btn = e.target.closest('.open-media');
      if(!btn) return;
      const id = btn.dataset.id;
      const p  = PRODUCTS.find(x=>x.id===id);
      if(p) openVideoForProduct(p);
    });

    // Hook the drawer Play button
    pdPlay.addEventListener('click', ()=>{
      if(currentProduct) openVideoForProduct(currentProduct);
    });

    // Deep-link open
    (function(){
      const id=new URLSearchParams(location.search).get('product');
      if(id && PRODUCTS.some(p=>p.id===id)) openDetails(id);
    })();

    // Initial render
    renderProducts();
  </script>
</body>
</html>
